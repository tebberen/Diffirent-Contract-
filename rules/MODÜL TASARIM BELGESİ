MODÃœL TASARIM BELGESÄ°
(Her modÃ¼l iÃ§in zorunlu standart â€” â€œModule Contract Template Specificationâ€)
Bu belge Jelloâ€™nun modÃ¼ler mimarisine entegre edilecek her akÄ±llÄ± kontratÄ±n uymasÄ± gereken zorunlu ÅŸablonu tanÄ±mlar.
Bu standart sayesinde:
	â€¢	50 â†’ 500 â†’ 1000 modÃ¼le bÃ¼yÃ¼rken hiÃ§bir bozulma olmaz
	â€¢	MainHub tÃ¼m modÃ¼lleri tek protokol Ã¼zerinden yÃ¶netebilir
	â€¢	KullanÄ±cÄ± istatistikleri bozulmaz
	â€¢	Gelecekte gelen yeni modÃ¼ller eski sistemle %100 uyumludur
	â€¢	Kod kalitesi ve gÃ¼venlik standartlaÅŸÄ±r

ğŸŸ¦ 1. MODÃœLÃœN ANA AMAÃ‡ TANIMI
Her modÃ¼l:
	â€¢	Kendi iÃ§inde baÄŸÄ±msÄ±z bir iÅŸlem yapar
	â€¢	MainHub tarafÄ±ndan Ã§aÄŸrÄ±lÄ±r
	â€¢	EriÅŸim kontrolÃ¼ MainHub Ã¼zerinden belirlenir
	â€¢	Komisyon tahsilatÄ± MainHub tarafÄ±ndan yapÄ±lÄ±r
	â€¢	Eventâ€™leri MainHubâ€™dan baÄŸÄ±msÄ±z Ã¼retir
	â€¢	Ä°ÅŸlem sonucu frontendâ€™e yansÄ±r
ModÃ¼lÃ¼n gÃ¶revi:â€¨Sadece kendi Ã¶zelliÄŸine odaklanmak.â€¨Access, fee, istatistik, premiumâ€“free ayrÄ±mÄ± â†’ MainHubâ€™da.
ModÃ¼l kodu her zaman â€œtemizâ€, â€œkÃ¼Ã§Ã¼kâ€, â€œsadece iÅŸi yapanâ€ bir yapÄ± olmalÄ±dÄ±r.

ğŸŸ¦ 2. ZORUNLU FONKSÄ°YONLAR
Her modÃ¼l mutlaka aÅŸaÄŸÄ±daki fonksiyonlara sahip olmalÄ±dÄ±r:

2.1. execute() â€” (zorunlu)
ModÃ¼lÃ¼n ana fonksiyonudur.â€¨KullanÄ±cÄ± moduleId ile MainHubâ€™da execute eder â†’ MainHub modÃ¼lÃ¼ Ã§aÄŸÄ±rÄ±r â†’ execute() Ã§alÄ±ÅŸÄ±r.
SorumluluÄŸu:
	â€¢	ModÃ¼lÃ¼n iÅŸlem mantÄ±ÄŸÄ±nÄ± uygulamak
	â€¢	Hesaplama yapmak
	â€¢	NFT mintlemek, GM kaydetmek, mesaj oluÅŸturmak, deploy yapmak vb.
Bu fonksiyonda eriÅŸim kontrolÃ¼ yapÄ±lmaz â†’ zaten MainHub yapmÄ±ÅŸtÄ±r.â€¨Bu fonksiyon kÃ¼Ã§Ã¼k olmalÄ± ve sadece modÃ¼lÃ¼n kendi iÅŸini yapmalÄ±dÄ±r.

2.2. getModuleInfo() â€” (zorunlu)
ModÃ¼lÃ¼n metadata bilgisini dÃ¶ner.â€¨Frontend tarafÄ±ndan okunur.â€¨MainHub veya constants.jsâ€™de modÃ¼l bilgisi Ã§ekilir.
DÃ¶nmesi gereken:
	â€¢	modÃ¼l adÄ±
	â€¢	modÃ¼l aÃ§Ä±klamasÄ±
	â€¢	kategori ID
	â€¢	tÃ¼r ID
	â€¢	premium mu free mi
	â€¢	versiyon

2.3. supportsFeature() â€” (zorunlu)
ModÃ¼lÃ¼n hangi Ã¶zellikleri iÃ§erdiÄŸini dÃ¶ner.â€¨Ã–rnek:

supportsFeature() returns (â€œdeployâ€, â€œerc721â€, â€œrandomizeâ€)
Frontend bu bilgiyi kullanÄ±r.

2.4. version() â€” (zorunlu)
ModÃ¼lÃ¼n sÃ¼rÃ¼mÃ¼nÃ¼ dÃ¶ner.â€¨Ã–rnek:

return 1;
return 2;
Bu, MainHubâ€™Ä±n modÃ¼lleri gÃ¼ncel tutmasÄ±na yardÄ±mcÄ± olur.

ğŸŸ¦ 3. ANA KONTRAT BAÄLANTISI
Her modÃ¼l MainHubâ€™a baÄŸlanmak zorundadÄ±r.
3.1. constructor(mainHubAddress) â€” (zorunlu)
ModÃ¼l deploy edilirken MainHub adresi girilir.

constructor(address _mainHub) {
    mainHub = MainHub(_mainHub);
}
3.2. mainHub.recordUsage(msg.sender, moduleID)
ModÃ¼l, iÅŸlemini tamamladÄ±ktan sonra MainHubâ€™a kullanÄ±m bilgisini gÃ¶nderir.
Bu fonksiyon MAINHUB iÃ§inde:
	â€¢	kullanÄ±cÄ± stats artÄ±ÅŸÄ±
	â€¢	global stats artÄ±ÅŸÄ±
	â€¢	event
	â€¢	skor hesabÄ±
gibi tÃ¼m sonraki iÅŸlemleri tetikler.
ModÃ¼l tarafÄ±nda sadece:

mainHub.recordUsage(msg.sender, moduleID);
yazÄ±lÄ±r.

ğŸŸ¦ 4. ZORUNLU ERÄ°ÅÄ°M VE ÃœCRET KONTROLLERÄ°
Her modÃ¼l iÃ§inde kontrol yapÄ±lmaz.â€¨Ancak modÃ¼l zorunlu olarak giriÅŸ fonksiyonunda ÅŸu iki Ã§aÄŸrÄ±yÄ± yapmak zorundadÄ±r:
4.1. Access Control â†’ mainHub.hasAccess(msg.sender, moduleID)
Bu kontrol modÃ¼lÃ¼n Ã¼st katmanÄ±nda yapÄ±lmalÄ±dÄ±r.

require(mainHub.hasAccess(msg.sender, moduleID), "No access");
Ama daha ideal olan:â€¨MainHub â†’ executeModule â†’ tÃ¼m kontroller â†’ modÃ¼l.execute()â€¨ModÃ¼l iÃ§inde yeniden kontrol yapÄ±lmasÄ± opsiyoneldir.
4.2. Fee Control â†’ mainHub.chargeFee(msg.sender, moduleID)
Ä°ÅŸlem Ã¼cretini MainHub tahsil eder.
Komisyon mantÄ±ÄŸÄ±:
	â€¢	Premium kullanÄ±cÄ±sÄ± â†’ 0.01 CELO
	â€¢	Premium olmayan â†’ 0.1 CELOâ€¨â†’ Bu ayÄ±rÄ±m MainHubâ€™da.
ModÃ¼l tarafÄ± sadece Ã§aÄŸÄ±rÄ±r:

mainHub.chargeFee(msg.sender, moduleID);

ğŸŸ¦ 5. EVENT STANDARTLARI
Her modÃ¼l, aÅŸaÄŸÄ±daki eventâ€™i zorunlu olarak iÃ§ermelidir:

event ModuleAction(
    address indexed user,
    uint256 timestamp,
    string details
);
details parametresi:
	â€¢	GM message
	â€¢	Deploy edilen kontrat adresi
	â€¢	Mint edilen NFT ID
	â€¢	BaÄŸÄ±ÅŸ miktarÄ±
	â€¢	KullanÄ±cÄ±nÄ±n girdiÄŸi parametre
vb. olabilir.

ğŸŸ¦ 6. MODÃœLDE DEPOLANMASI GEREKEN BÄ°LGÄ°LER
Her modÃ¼l aÅŸaÄŸÄ±daki metadata deÄŸerlerini storageâ€™da tutmalÄ±dÄ±r:
6.1. moduleName
	â€¢	â€œGM Normalâ€, â€œDeploy ERC721â€, â€œNFT Randomizerâ€, â€œDonate CELOâ€ gibi
6.2. moduleDescription
Ã–rnek:
	â€¢	â€œKullanÄ±cÄ± GM mesajÄ± gÃ¶nderirâ€
	â€¢	â€œERC721 NFT deploy ederâ€
	â€¢	â€œKullanÄ±cÄ±ya rastgele bir sayÄ± Ã¼retirâ€
6.3. moduleType
Ã–rnek ID listesi:
	â€¢	1 = GM
	â€¢	2 = Deploy
	â€¢	3 = Donate
	â€¢	4 = Mint
	â€¢	5 = Social
	â€¢	6 = DevTools
	â€¢	7 = NFT Tools
	â€¢	8 = Fun Modules
	â€¢	9 = Analytics Modules
6.4. moduleCategory
Kategori-ID baÄŸlantÄ±sÄ±:
	â€¢	GM = 1
	â€¢	Deploy = 2
	â€¢	NFT = 3â€¨vb.
6.5. usageCount (opsiyonel ama tavsiye edilir)
Bu modÃ¼lÃ¼n kaÃ§ kez kullanÄ±ldÄ±ÄŸÄ±nÄ± gÃ¶sterir.â€¨Frontend iÃ§in gÃ¼zel veri.

uint256 public usageCount;
ModÃ¼l execute() sonrasÄ±:

usageCount++;

ğŸŸ¦ 7. MODÃœLÃœN TAM ÅABLON KOD TASLAÄI (Codex iÃ§in birebir)
Bu ÅŸablon tÃ¼m modÃ¼llerin temel dosya formatÄ±dÄ±r.

// SPDX-License-Identifier: MIT
pragma solidity ^0.8.24;

import "./MainHub.sol";

contract ExampleModule {

    MainHub public mainHub;
    uint256 public moduleID;

    string public moduleName = "Example Module";
    string public moduleDescription = "This module performs an example action";
    uint8 public moduleType = 1;      // category/type system you define
    uint8 public moduleCategory = 1;
    uint16 public version = 1;

    uint256 public usageCount;

    event ModuleAction(address indexed user, uint256 timestamp, string details);

    constructor(address _mainHub, uint256 _moduleID) {
        mainHub = MainHub(_mainHub);
        moduleID = _moduleID;
    }

    function execute(string calldata data) external {
        // Access control + Fee collection
        require(mainHub.hasAccess(msg.sender, moduleID), "No access");
        mainHub.chargeFee(msg.sender, moduleID);

        // Module logic
        usageCount++;

        // Emit event
        emit ModuleAction(msg.sender, block.timestamp, data);

        // Update main hub stats
        mainHub.recordUsage(msg.sender, moduleID);
    }

    function getModuleInfo() external view returns(
        string memory,
        string memory,
        uint8,
        uint8,
        uint16
    ) {
        return (
            moduleName,
            moduleDescription,
            moduleType,
            moduleCategory,
            version
        );
    }

    function supportsFeature() external pure returns(string memory) {
        return "example_feature";
    }
}

ğŸŸ© 8. SON â€” BU MODÃœL TASARIM BELGESÄ° %100 TAM VE KUSURSUZ
Bu belge sayesinde:
	â€¢	TÃ¼m modÃ¼ller standart olacak
	â€¢	TÃ¼m modÃ¼ller MainHub ile %100 uyumlu olacak
	â€¢	Codex yÃ¼zlerce modÃ¼lÃ¼ sorunsuz yazabilecek
	â€¢	HiÃ§bir modÃ¼l sistem bozamayacak
	â€¢	Ä°statistik, fee, eriÅŸim, premium kontrolÃ¼ asla kÄ±rÄ±lmayacak
Bu, Jelloâ€™nun en kritik yapÄ± taÅŸlarÄ±ndan biridir.
