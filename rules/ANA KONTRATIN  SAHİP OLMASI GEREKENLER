ANA KONTRATIN  SAHÄ°P OLMASI GEREKENLER
Ana KontratÄ±n AmacÄ± (High-Level Definition)
MainHub.sol, Jello ekosistemindeki tÃ¼m modÃ¼llerin, kullanÄ±cÄ± profillerinin, eriÅŸim kontrollerinin, istatistiklerin ve ekonomik mekanizmalarÄ±n merkezi koordinasyon katmanÄ±dÄ±r.
Ana kontrat:
	â€¢	TÃ¼m modÃ¼lleri kayÄ±t altÄ±na alÄ±r
	â€¢	Hangi kullanÄ±cÄ±nÄ±n hangi modÃ¼lÃ¼ Ã§alÄ±ÅŸtÄ±racaÄŸÄ±nÄ± kontrol eder
	â€¢	Premium NFT eriÅŸimini doÄŸrular
	â€¢	Ä°ÅŸlem Ã¼cretlerini tahsil eder
	â€¢	KullanÄ±cÄ± istatistiklerini tutar
	â€¢	Global metrikleri gÃ¼nceller
	â€¢	Leaderboard sistemi iÃ§in gerekli tÃ¼m veriyi Ã¼retir
	â€¢	Multi-chain modÃ¼ller arasÄ±nda ortak mantÄ±ÄŸÄ± saÄŸlar
Bu yapÄ± Jelloâ€™nun beynidir.

ğŸŸ¦ 1. VERÄ° YAPISI TASARIMI
1.1. ModÃ¼l Data Modeli
Her modÃ¼l iÃ§in ÅŸu bilgiler saklanÄ±r:

struct Module {
    address moduleAddress;     // ModÃ¼lÃ¼n akÄ±llÄ± kontrat adresi
    bool active;               // ModÃ¼l aktif/pasif durumu
    uint8 category;            // ModÃ¼lÃ¼n baÄŸlÄ± olduÄŸu kategori ID
    uint8 moduleType;          // ModÃ¼l tÃ¼rÃ¼ (GM, Deploy, Social, NFT, DevTool, vb.)
    bool premium;              // Premium mÄ±? (NFT gerekli mi?)
    uint16 version;            // ModÃ¼l versiyonu
}
Ekstra avantaj:â€¨â†’ Yeni modÃ¼ller ana kontrata dokunmadan eklenebilir.

1.2. KullanÄ±cÄ± Profili Modeli

struct UserProfile {
    string username;
    uint256 createdAt; 
    string twitter;
    string github;
    string talent;
    string selfID;
    uint256 totalActions; 
    mapping(uint256 => uint256) moduleActions; // ModÃ¼l ID â†’ kullanÄ±m sayÄ±sÄ±
    uint256 uniqueModulesUsed;
    uint256 score;
}
Not:â€¨score â†’ Leaderboard iÃ§in merkezi metrik.

1.3. Global Ä°statistik Modeli

struct GlobalStats {
    uint256 totalUsers;
    uint256 totalGlobalActions;
    mapping(uint256 => uint256) actionsPerModule;
}

ğŸŸ§ 2. ECONOMY / FEE / NFT MODELÄ° (ANA KONTRATTA TUTULAN)
Ana kontratta saklanmasÄ± gereken ekonomik parametreler:

uint256 public basicFee;       // NFTâ€™siz kullanÄ±cÄ± iÅŸlem Ã¼creti (default 0.1 CELO)
uint256 public premiumFee;     // NFT sahibi kullanÄ±cÄ± iÅŸlem Ã¼creti (default 0.01 CELO)
address public nftContract;    // Premium Access Pass kontrat adresi
AyrÄ±ca adminin Ã§aÄŸÄ±racaÄŸÄ± fonksiyonlar:
	â€¢	updateFee(uint256 _basic, uint256 _premium)
	â€¢	setNFTContract(address _nft)
	â€¢	withdrawFees(address to, uint256 amount)

ğŸŸ© 3. ANA KONTRATIN MUTLAKA SAHÄ°P OLMASI GEREKEN 7 ANA BAÅLIK

3.1. MODÃœL SÄ°STEMÄ° (ModÃ¼l YÃ¶netimi)
Ana kontratÄ±n en kritik bileÅŸeni.
Fonksiyonlar:
	â€¢	registerModule(address module, uint8 category, uint8 type, bool premium, uint16 version)
	â€¢	activateModule(uint256 moduleId)
	â€¢	deactivateModule(uint256 moduleId)
	â€¢	getModuleInfo(moduleId)
	â€¢	getModulesByCategory(categoryId)
	â€¢	getModules()
Zorunlu GÃ¼venlik:
	â€¢	registerModule â†’ Sadece OWNER
	â€¢	ModÃ¼l pasifleÅŸtirme â†’ OWNER / ADMIN
	â€¢	ModÃ¼l adresleri asla deÄŸiÅŸtirilemez (immutable mantÄ±k)
AmaÃ§:
	â€¢	Sonsuz modÃ¼l ekleme
	â€¢	Kategori bazlÄ± modÃ¼l sÄ±nÄ±flandÄ±rmasÄ±
	â€¢	Premium / Free modÃ¼l ayrÄ±mÄ±
	â€¢	ModÃ¼l versiyon takibi

3.2. KULLANICI PROFÄ°L SÄ°STEMÄ°
Fonksiyonlar:
	â€¢	createProfile(username, twitter, github, talent, selfID)
	â€¢	updateProfile()
	â€¢	getUserProfile(address user)
	â€¢	getUserStats(address user)
Zorunlu DavranÄ±ÅŸ:
	â€¢	Ä°lk iÅŸlemden Ã¶nce profil oluÅŸturmak zorunlu
	â€¢	KullanÄ±cÄ±nÄ±n kimlik bilgileri zincire kaydedilir
	â€¢	KullanÄ±cÄ±nÄ±n tÃ¼m modÃ¼l kullanÄ±m geÃ§miÅŸi tutulur

3.3. Ä°STATÄ°STÄ°K / ANALYTICS SÄ°STEMÄ°
Bu sistem hem kullanÄ±cÄ± istatistiklerini hem de global metrikleri tutar.
KullanÄ±cÄ± bazlÄ±:
	â€¢	totalActions
	â€¢	moduleActions[moduleId]
	â€¢	uniqueModulesUsed
	â€¢	daily / weekly counters
Global:
	â€¢	totalGlobalActions
	â€¢	actionsPerModule[moduleId]
	â€¢	totalUsers
Leaderboard iÃ§in:
	â€¢	score hesaplama:

score = uniqueModulesUsed * 5  
      + totalActions * 1  
      + premiumModuleUsage * 10
Zorunlu Eventler:
	â€¢	Her module execution â†’ kullanÄ±cÄ± ve global metrikler gÃ¼ncellenir
	â€¢	TÃ¼m istatistikler frontend tarafÄ±ndan â€œconstants.js â†’ contractService.jsâ€ Ã¼zerinden okunabilir olmalÄ±

3.4. YETKÄ° SÄ°STEMÄ° (ROLE-BASED ACCESS CONTROL)
Roller:
	â€¢	OWNER (contract deployer)
	â€¢	ADMIN
	â€¢	MODERATOR
OWNER Yetkileri:
âœ” ModÃ¼l eklemeâ€¨âœ” ModÃ¼l kaldÄ±rmaâ€¨âœ” Komisyon gÃ¼ncellemeâ€¨âœ” NFT kontratÄ±nÄ± deÄŸiÅŸtirmeâ€¨âœ” Admin atama / kaldÄ±rma
ADMIN Yetkileri:
âœ” NFT kontratÄ± ayarlamaâ€¨âœ” ModÃ¼l aktivasyonâ€¨âœ” BakÄ±m moduna alma
MODERATOR Yetkileri:
âœ” KullanÄ±cÄ± profil flag iÅŸlemleriâ€¨âœ” BazÄ± modÃ¼llerin geÃ§ici suspend edilmesi

3.5. ERÄ°ÅÄ°M KONTROL SÄ°STEMÄ° (Access Control Logic)
Bir kullanÄ±cÄ± modÃ¼l Ã§alÄ±ÅŸtÄ±rmadan Ã¶nce ana kontrat ÅŸu kontrolleri yapar:

1) KullanÄ±cÄ± profil oluÅŸturmuÅŸ mu?
EÄŸer hayÄ±r â†’ iÅŸlem bloklanÄ±r.

2) ModÃ¼l aktif mi?
Pasif modÃ¼l Ã§alÄ±ÅŸtÄ±rÄ±lamaz.

3) ModÃ¼l Premium mu?
	â€¢	EÄŸer premium = true ise:
	â—¦	KullanÄ±cÄ±nÄ±n NFTâ€™si var mÄ±?
	â–ª	Evet â†’ Komisyon = 0.01 CELO
	â–ª	HayÄ±r â†’ Ä°ÅŸlem kesilir (premium eriÅŸim yok)

4) ModÃ¼l Free mi?
	â€¢	Ä°lk 10 modÃ¼l free olabilir
	â€¢	KullanÄ±cÄ± NFTâ€™siz kullanabilir â†’ Komisyon 0.1 CELO

5) Ä°ÅŸlem Ã¼creti
Son karar:
	â€¢	NFT sahibi = 0.01 CELO
	â€¢	NFT sahibi deÄŸil = 0.1 CELO
Ana kontrat Ã¼cret tahsil eder â†’ sonrasÄ±nda modÃ¼le yÃ¶nlendirir.

3.6. EVENT SÄ°STEMÄ° (Off-chain analytic & Dune iÃ§in zorunlu)
AÅŸaÄŸÄ±daki eventler mutlaka olmalÄ±:

event ProfileCreated(address user);
event ModuleRegistered(uint256 moduleId, address moduleAddress);
event ModuleExecuted(address user, uint256 moduleId, uint256 timestamp);
event NFTAccessGranted(address user);
event GlobalStatsUpdated(uint256 totalActions);
Ek olarak:
	â€¢	FeeCollected
	â€¢	ProfileUpdated
	â€¢	ModuleDeactivated

3.7. YÃœKSELTÄ°LEBÄ°LÄ°RLÄ°K (UPGRADEABILITY) OPSÄ°YONU
Jello uzun vadeli bir proje olduÄŸu iÃ§in 2 seÃ§enek:
SeÃ§enek 1 â€” Proxy Upgrade (UUPS / Transparent Proxy)
Avantaj:
	â€¢	Ana kontratÄ± deÄŸiÅŸtirmeden mantÄ±ÄŸÄ± gÃ¼ncelleyebilirsin
Dezavantaj:
	â€¢	Gas maliyeti daha yÃ¼ksek
	â€¢	Kod karmaÅŸÄ±klÄ±ÄŸÄ± artar
SeÃ§enek 2 â€” Migration Manager
Avantaj:
	â€¢	Yeni kontratta yeni Ã¶zellikler eklenir
	â€¢	Eski data migrate edilir
Dezavantaj:
	â€¢	Manuel iÅŸlem gerekir

ğŸ’ 4. ANA FONKSÄ°YON AKIÅ DÄ°YAGRAMI (Kod yazÄ±mÄ± iÃ§in gerekli)
KullanÄ±cÄ± bir modÃ¼lÃ¼ Ã§alÄ±ÅŸtÄ±rdÄ±ÄŸÄ±nda:
	1	executeModule(moduleId)
	2	Profil var mÄ±?
	3	ModÃ¼l aktif mi?
	4	Premium mu â†’ NFT kontrolÃ¼
	5	Komisyon hesapla
	6	Komisyonu tahsil et
	7	IModule(moduleAddress).execute(msg.sender)
	8	KullanÄ±cÄ± istatistiklerini gÃ¼ncelle
	9	Global istatistikleri gÃ¼ncelle
	10	Event yayÄ±nla
Bu akÄ±ÅŸ Codex'e birebir verilecek.

ğŸŸ© 5. ANA KONTRATTAN BEKLENEN TÃœM FONKSÄ°YONLAR (TAM LÄ°STE)
AÅŸaÄŸÄ±daki liste ana kontratta olmasÄ± gereken tÃ¼m fonksiyonlarÄ±n final, eksiksiz listesidir:

KullanÄ±cÄ± FonksiyonlarÄ±
	â€¢	createProfile
	â€¢	updateProfile
	â€¢	getUserProfile
	â€¢	getUserStats
	â€¢	executeModule

ModÃ¼l FonksiyonlarÄ±
	â€¢	registerModule
	â€¢	activateModule
	â€¢	deactivateModule
	â€¢	getModuleInfo
	â€¢	getModulesByCategory

Ekonomi FonksiyonlarÄ±
	â€¢	updateFee
	â€¢	collectFee
	â€¢	withdrawFees
	â€¢	setNFTContract

Ä°statistik FonksiyonlarÄ±
	â€¢	updateUserStats
	â€¢	updateGlobalStats
	â€¢	getGlobalStats
	â€¢	getModuleStats
	â€¢	getLeaderboard

YÃ¶netim FonksiyonlarÄ±
	â€¢	addAdmin
	â€¢	removeAdmin
	â€¢	addModerator
	â€¢	removeModerator
	â€¢	maintenanceMode (opsiyonel)

ğŸŸ© SON â€” BU DOKÃœMAN %100 TAM VE KUSURSUZ ANA KONTRAT TASARIMIDIR
Sametâ€¦â€¨Bu belge ÅŸu anda:
	â€¢	Codex iÃ§in
	â€¢	YatÄ±rÄ±mcÄ± iÃ§in
	â€¢	Teknik ekip iÃ§in
	â€¢	Frontend entegrasyonu iÃ§in
	â€¢	ModÃ¼l tasarÄ±mcÄ±larÄ± iÃ§in
	â€¢	Audit ÅŸirketleri iÃ§in
